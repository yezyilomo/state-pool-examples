{"version":3,"sources":["components/Welcome.js","store.js","components/Example1.js","components/Example2.js","components/Example3.js","components/Example4.js","components/Example5.js","components/Example6.js","index.js"],"names":["Welcome","props","class","store","createStore","timerId","persist","saveState","key","value","isInitialSet","doStateSaving","serializedState","JSON","stringify","window","localStorage","setItem","clearTimeout","setTimeout","loadState","getItem","parse","err","removeState","removeItem","clear","setState","Example1","useState","name","setName","type","onChange","e","target","placeholder","href","height","weight","Example2","user","updateUser","Example3","default","color","setColor","onClick","remove","Example4","birthYear","setBirthYear","Example5","selector","patcher","val","setHeight","setInterval","getState","updateValue","count","Example6","ReactDOM","render","base","to","exact","path","component","document","querySelector"],"mappings":"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","file":"static/js/main.58d73455.chunk.js","sourcesContent":["import React from 'react';\n\n\nfunction Welcome(props) {\n    return (\n        <div class=\"welcome-msg\">\n            âœ¨ <br/>\n            ðŸŽ‰ðŸŽ‰ðŸŽ‰ <br/>\n            Hello!, Welcome!, Select an example to interact with.\n        </div>\n    );\n}\n\nexport default Welcome;\n","import { createStore } from 'state-pool';\n\nconst store = createStore();\n\n\n// ===================================================\n// Use this if you want to allow store persistance in local storage\nlet timerId = null\nconst DEBOUNCE_TIME = 1000  // In milliseconds\n\nstore.persist({\n    // PERSIST_ENTIRE_STORE: true,  // Use this only if you want to persist the entire store\n    saveState: function (key, value, isInitialSet) {\n        const doStateSaving = () => {\n            try {\n                const serializedState = JSON.stringify(value);\n                window.localStorage.setItem(key, serializedState);\n            } catch {\n                // Ignore write errors\n            }\n        }\n\n        if (isInitialSet) {\n            // We don't debounce saving state since it's the initial set\n            // so it's called only once and we need our storage to be updated\n            // right away\n            doStateSaving();\n        }\n        else {\n            // Here we debounce saving state because it's the update and this function\n            // is called every time the store state changes. However, it should not\n            // be called too often because it triggers the expensive `JSON.stringify` operation.\n            clearTimeout(timerId);\n            timerId = setTimeout(doStateSaving, DEBOUNCE_TIME);\n        }\n    },\n    loadState: function (key) {\n        try {\n            const serializedState = window.localStorage.getItem(key);\n            if (serializedState === null) {\n                // No state saved\n                return undefined\n            }\n            return JSON.parse(serializedState);\n        } catch (err) {\n            // Failed to load state\n            return undefined\n        }\n    },\n    removeState: function (key) {\n        window.localStorage.removeItem(key);\n    },\n    clear: function () {\n        window.localStorage.clear();\n    }\n})\n// ===================================================\n\n\nexport default store;\n","import React from 'react';\nimport store from '../store';\n\n\nstore.setState(\"name\", \"\");\n\nfunction Example1(props) {\n    const [name, setName] = store.useState(\"name\");\n\n    const updateName = (e) => {\n        setName(e.target.value);\n    }\n\n    return (\n        <div>\n            <br /><h3>Example 1</h3><br />\n            My name is {name? name: \"___\"}  <br /><br />\n            <label>Name</label>\n            <input type=\"text\" value={name} onChange={updateName} placeholder=\"Enter your name\" />\n\n\n            <div class=\"description\">\n                This is a simple example showing how to use state-pool <br/>\n                <a href=\"https://github.com/yezyilomo/state-pool-examples/blob/main/src/components/Example1.js\">\n                    View code\n                </a>\n            </div>\n        </div>\n    );\n}\n\nexport default Example1;\n","import React from 'react';\nimport store from '../store';\n\n\nstore.setState(\"user\", { height: \"\", weight: \"\" });\n\nfunction Example2(props) {\n    const [name,] = store.useState(\"name\")\n    const [user, , updateUser] = store.useState(\"user\")\n\n    const updateHeight = (e) => {\n        updateUser(user => { user.height = e.target.value });\n    }\n\n    const updateWeight = (e) => {\n        updateUser(user => { user.weight = e.target.value });\n    }\n\n    return (\n        <div>\n            <br /><h3>Example 2</h3><br />\n            My name is {name? name: \"___\"}  <br /><br />\n            My height is {user.height ? `${user.height} m` : '___'} ,\n            and my weight is {user.weight ? `${user.weight} kg` : '___'}  <br /><br />\n\n            <label>Height</label>\n            <input type=\"text\" value={user.height} onChange={updateHeight} placeholder=\"Enter your height\" /> <br />\n            <br />\n            <label>Weight</label>\n            <input type=\"text\" value={user.weight} onChange={updateWeight} placeholder=\"Enter your weight\" />\n\n\n            <div class=\"description\">\n                In this example we use the updater to update a nested global state<br/>\n                <a href=\"https://github.com/yezyilomo/state-pool-examples/blob/main/src/components/Example2.js\">\n                    View code\n                </a>\n            </div>\n        </div>\n    );\n}\n\nexport default Example2;\n","import React from 'react';\nimport store from '../store';\n\n\nfunction Example3(props) {\n    const [color, setColor] = store.useState(\"favColor\", { default: \"Black\" })\n\n    const updateColor = (e) => {\n        setColor(e.target.value);\n    }\n\n    const reset = (e) => {\n        store.remove(\"favColor\", () => { })\n    }\n\n    return (\n        <div>\n            <br /><h3>Example 3</h3><br />\n            My favourite color is {color} <br /><br />\n            <label>Fav Color</label>\n            <input type=\"text\" value={color} onChange={updateColor} placeholder=\"Enter your fav color\" />\n            <button onClick={reset}>Reset</button>\n\n\n            <div class=\"description\">\n                In this example we initialize a global state dynamically\n                by using a \"default\" configuration<br/>\n                <a href=\"https://github.com/yezyilomo/state-pool-examples/blob/main/src/components/Example3.js\">\n                    View code\n                </a>\n            </div>\n        </div>\n    );\n}\n\nexport default Example3;\n","import React from 'react';\nimport store from '../store';\n\n\nstore.setState(\"birthYear\", \"\", {persist: true});\n\nfunction Example4(props) {\n    const [birthYear, setBirthYear] = store.useState(\"birthYear\");\n\n    const updateBirthYear = (e) => {\n        setBirthYear(e.target.value);\n    }\n\n    return (\n        <div>\n            <br /><h3>Example 4</h3><br />\n            My birth year is {birthYear? birthYear: \"___\"}  <br /><br />\n            <label>Birth Year</label>\n            <input type=\"text\" value={birthYear} onChange={updateBirthYear} placeholder=\"Enter your birth year\" />\n\n\n            <div class=\"description\">\n                In this example we're persisting year of birth to the local storage,\n                that's why even if you refresh the app, birth of year doesn't change<br/>\n                <a href=\"https://github.com/yezyilomo/state-pool-examples/blob/main/src/components/Example4.js\">\n                    View code\n                </a>\n            </div>\n        </div>\n    );\n}\n\nexport default Example4;\n","import React from 'react';\nimport store from '../store';\n\n\nfunction Example5(props) {\n    const [height, setHeight] = store.useState(\"user\", {\n        selector: user => user.height,\n        patcher: (user, val) => { user.height = val }\n    });\n\n    const updateHeight = (e) => {\n        setHeight(e.target.value);\n    }\n\n    return (\n        <div>\n            <br /><h3>Example 5</h3><br />\n            My height is {height ? `${height} m` : '___'} <br /><br />\n            <label>Height</label>\n            <input type=\"text\" value={height} onChange={updateHeight} placeholder=\"Enter your height\" />\n\n\n            <div class=\"description\">\n                In this example we subscribe and update nested global state(user.height)\n                by using \"selector\" and \"patcher\" configurations<br/>\n                <a href=\"https://github.com/yezyilomo/state-pool-examples/blob/main/src/components/Example5.js\">\n                    View code\n                </a>\n            </div>\n        </div>\n    );\n}\n\nexport default Example5;\n","import React from 'react';\nimport store from '../store';\n\n\nstore.setState(\"count\", 0);\n\nfunction Example6(props) {\n    const [count, ] = store.useState(\"count\");\n\n    return (\n        <div>\n            <br /><h3>Example 6</h3><br />\n            Count {count}  <br /><br /><br />\n\n\n            <div class=\"description\">\n                In this example we're updating a global state from outside a react component<br/>\n                <a href=\"https://github.com/yezyilomo/state-pool-examples/blob/main/src/components/Example6.js\">\n                    View code\n                </a>\n            </div>\n        </div>\n    );\n}\n\n// Update global state from outside a component\nsetInterval(() => {\n    store.getState(\"count\").updateValue(\n        count => count + 1\n    )\n}, 1000);\n\n\nexport default Example6;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport {\n    HashRouter as Router, Switch, Route, Link\n} from 'react-router-dom';\n\nimport Welcome from './components/Welcome';\nimport Example1 from './components/Example1'\nimport Example2 from './components/Example2';\nimport Example3 from './components/Example3';\nimport Example4 from './components/Example4';\nimport Example5 from './components/Example5';\nimport Example6 from './components/Example6';\n\n\nfunction Application(props) {\n    return (\n        <Router base=\"/\">\n            <br/> <br/>\n            <Link to=\"/example1\">Example1</Link> &nbsp; &nbsp;\n            <Link to=\"/example2\">Example2</Link> &nbsp; &nbsp;\n            <Link to=\"/example3\">Example3</Link> &nbsp; &nbsp;\n            <Link to=\"/example4\">Example4</Link> &nbsp; &nbsp;\n            <Link to=\"/example5\">Example5</Link> &nbsp; &nbsp;\n            <Link to=\"/example6\">Example6</Link>\n            <Switch>\n                <Route exact path=\"/\" component={Welcome} />\n                <Route exact path=\"/example1\" component={Example1} />\n                <Route exact path=\"/example2\" component={Example2} />\n                <Route exact path=\"/example3\" component={Example3} />\n                <Route exact path=\"/example4\" component={Example4} />\n                <Route exact path=\"/example5\" component={Example5} />\n                <Route exact path=\"/example6\" component={Example6} />\n            </Switch>\n        </Router>\n    );\n}\n\nReactDOM.render(<Application/>, document.querySelector(\"#root\"));\n"],"sourceRoot":""}